<mat-card>
  <mat-card-title>Novo Contrato</mat-card-title>

  <mat-grid-list cols="2" rowHeight="1:1">
    <mat-grid-tile  style="scroll-behavior: auto;">
      <div class="block">

        <form [formGroup]="formContrato" >

      <mat-form-field appearance="fill" style="width: 100%">
        <mat-label >Descrição do Contrato</mat-label>
        <textarea matInput autofocus formControlName="descricao" ></textarea>
      </mat-form-field>
      <mat-form-field appearance="fill" style="width: 100%">
        <mat-label>Escolha a data de Entrega</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="data">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
        </form>
      <form  [formGroup]="item" (ngSubmit)="adiciona()">

        <mat-card-title>Selecione seu Projeto</mat-card-title>
        <mat-form-field appearance="fill" style="width: 100%">
          <mat-label>Projetos</mat-label>
          <mat-select formControlName="projeto">
            <mat-option *ngFor="let projeto of ListaProjetos" [value]="projeto">
              {{projeto.descricaoProjeto}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="fill" style="width: 100%">
          <mat-label>Valor</mat-label>
          <input matInput formControlName="valor" mask="separator.2"
                 [thousandSeparator]="'.'"
                 [decimalMarker]="','"
                 prefix="R$ "
                 type="text"
                 [dropSpecialCharacters]="true">
        </mat-form-field>

        <mat-form-field appearance="fill" style="width: 100%">
          <mat-label>Descrição do Projeto</mat-label>
          <textarea matInput formControlName="descricao" spellcheck="true"></textarea>
        </mat-form-field>

        <button type="submit" mat-raised-button color="primary" [disabled]="!item.valid" style="margin-bottom: 30px; width: 100%"
                class="espaco"><mat-icon>add</mat-icon>Adicionar</button>
      </form>
      </div>
    </mat-grid-tile>
    <mat-grid-tile>
        <div style="background-color: #3f51b5; border-radius: 10px; width: 100%">
      <img src="assets/Degital_marketing_SVG.svg" width="80%">
        </div>
    </mat-grid-tile>
  </mat-grid-list>
</mat-card>
<app-projetos></app-projetos>
<br>
<button type="submit" mat-raised-button color="primary"
        style="margin-bottom: 80px; width: 100%; height: 50px" [disabled]="!formContrato.valid" (click)="criaContrato()"
        ><mat-icon>post_add</mat-icon>Criar Contrato</button>

<mat-card-title>Valor Total do contrato: {{this.total|currency: 'BRL'}}</mat-card-title>

<button type="submit" mat-raised-button color="warn"
        style="margin-bottom: 80px; width: 100%; height: 50px" (click)="voltar()"
><mat-icon>close</mat-icon>Cancelar</button>
